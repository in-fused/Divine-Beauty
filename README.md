# Divine Beauty by Nina

A mobile-first promotional and booking website designed to replace platform commission dependency with a branded direct-booking experience.

## Features delivered
- Immersive landing page with brighter natural-light botanical styling and service highlights.
- Expandable calendar-like booking slot cards.
- Booking capture with service selections, notes, and client contact details.
- Privacy-safe profile lookup only returns minimal autofill data (name) to public clients.
- Persistent customer profile creation and auto-population for return clients.
- Admin dashboard (password-protected) for:
  - availability slot management,
  - services,
  - image uploads,
  - Instagram image URL ingestion,
  - blog post publishing,
  - one-tap theme switching (presets + prompt-based generation).
- Blog + comments section.
- Nginx reverse proxy + Let's Encrypt deployment blueprint for custom domain.
- Instagram placeholder gallery seeds for rapid preview demos before full content upload.

## Quick start (local)
```bash
cp .env.example .env
npm install
npm start
```
Visit `http://localhost:8080`.

Admin login URL: `/admin/login`.

Security note: set strong `SESSION_SECRET` and `ADMIN_PASSWORD` in `.env` before starting in production.

## Production deployment
### 1) DNS
Point `divinebeautybynina.com` and `www.divinebeautybynina.com` A records to your server.

### 2) Start stack
```bash
cd deploy
docker compose up -d --build
```

Optional (recommended) preflight + full deploy helper:
```bash
cd deploy
LETSENCRYPT_EMAIL=you@example.com ./deploy-live.sh
```

`nginx` terminates SSL on the outside (`80/443`) and proxies traffic internally to `app:8080`.
Let's Encrypt certificates are generated by `certbot` and shared with nginx through the Docker volume `certbot-etc`.

### 3) Issue first certificate
Run once on host (recommended helper):
```bash
./init-letsencrypt.sh
```
This starts nginx in HTTP bootstrap mode (`deploy/nginx/active.conf`), obtains certificates, then switches active nginx config to TLS (`deploy/nginx/tls.conf`).

Or manual command:
```bash
# keep deploy/nginx/default.conf as HTTP bootstrap first
cp ./nginx/default.conf ./nginx/active.conf
docker compose up -d nginx
docker compose run --rm certbot certonly --webroot -w /var/www/certbot -d divinebeautybynina.com -d www.divinebeautybynina.com --email you@example.com --agree-tos --no-eff-email
cp ./nginx/tls.conf ./nginx/active.conf
docker compose restart nginx
```


### 4) Post-deploy verification
Run from any machine that can reach the live domain:
```bash
cd deploy
./post-deploy-check.sh divinebeautybynina.com
```
This verifies HTTPâ†’HTTPS redirect, HTTPS reachability, and prints TLS certificate details.

## iOS-first UX notes
- Touch-first controls with large tappable targets.
- Input sizing avoids iOS Safari zoom issues.
- Layout prioritizes mobile breakpoints and vertical content flow.

## Folder map
See `docs/ARCHITECTURE.md` for full file-structure analysis and rollout checklist.


## Instagram embed notes
- Gallery supports direct Instagram post URLs (format: `https://www.instagram.com/p/<shortcode>/`).
- Embedded posts are rendered via the official Instagram embed script.
- Admin includes an Instagram Queue: paste one or many post URLs, then select which queued posts to publish to the website feed.
- No real-time scraping is required; this keeps Nina's workflow simple and dependable.


## Runtime health
- App exposes `GET /health` for container health checks and reverse-proxy validation.
